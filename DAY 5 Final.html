<!DOCTYPE html>
<html>
<head>
  <title>Virtual Event Registration & Quiz</title>
  <style>
/* Page style */
body {
  font-family: Arial, sans-serif;
  background: #f4f6f9;   
  margin: 0;
  color: #333;
  overflow-x: hidden;
}

/* Main title */
h1 {
  text-align: center;
  padding: 20px;
  margin: 0;
  background: #007bff;   
  color: white;
  font-size: 26px;
}

/* Sections */
section {
  width: 100%;           
  background: #fff;
  padding: 20px;
  margin: 20px ;
  border-radius: 8px;
  
}

/* Section headings */
h2 {
  font-size: 20px;
  margin-top: 0;
  color: #007bff;  
  border-bottom: 2px solid #007bff;
  padding-bottom: 5px;
}

/* Inputs */
input {
  display: block;
  margin: 10px 0;
  padding: 8px;
  width: 95%;
  max-width: 400px;
  border: 1px solid #ccc;
  border-radius: 5px;
  font-size: 14px;
}

/* Buttons */
button {
  background: #007bff;
  color: white;
  border: none;
  padding: 10px 16px;
  border-radius: 5px;
  cursor: pointer;
  font-size: 14px;
}

button:hover {
  background: #0056b3;  
}

/* Output text */
p{
  margin-top: 12px;
  font-size: 14px;
  font-weight: bold;
}


/* Hide quiz & result initially */
.hidden {
  display: none;
}


  </style>
</head>
<body>

<h1>ðŸŽ® Event Registration & Quiz</h1>

<!-- Registration -->
<section id="registerSection">
  <h2>Registration</h2>
  Name: <input id="name">
  Email: <input id="email">
  Age: <input id="age" type="number">
  <button onclick="registerUser()">Register</button>
  <p id="regMsg"></p>
</section>

<!-- Quiz -->
<section id="quizSection" class="hidden">
  <h2>Quiz</h2>
  <div id="questions"></div>
  <button onclick="submitQuiz()">Submit Answers</button>
  <p id="quizMsg"></p>
</section>

<!-- Result -->
<section id="resultSection" class="hidden">
  <h2>Result</h2>
  <p id="scoreOutput"></p>
  <p id="gradeOutput"></p>
  <p id="timeOutput"></p>
  <h3>Stored Data</h3>
  <pre id="jsonOutput"></pre>
</section>

<script>
  let user = {};
  let score = 0;

  let quizQuestions = [
    { q: "5 + 3 = ?", options: ["7","8","9"], answer: "8" },
    { q: "12 - 4 = ?", options: ["8","9","7"], answer: "8" },
    { q: "3 * 2 = ?", options: ["5","6","7"], answer: "6" }
  ];

  function registerUser() {
    let n = document.getElementById("name").value;
    let e = document.getElementById("email").value;
    let a = document.getElementById("age").value;

    if(n=="" || e=="" || a=="") {
      document.getElementById("regMsg").innerText = " Please fill all fields!";
      return;
    }
    if(a < 12) {
      document.getElementById("regMsg").innerText = " Age must be 12 or above!";
      return;
    }

    user.name = n;
    user.email = e;
    user.age = a;

    document.getElementById("regMsg").innerText = " Registration Successful!";
    document.getElementById("quizSection").classList.remove("hidden");
    showQuiz();
  }

  function showQuiz() {
  var qDiv = document.getElementById("questions");
  qDiv.innerHTML = "";

  for (var i = 0; i < quizQuestions.length; i++) {
    qDiv.innerHTML += "<p>" + (i + 1) + ". " + quizQuestions[i].q + "</p>";

    for (var j = 0; j < quizQuestions[i].options.length; j++) {
      qDiv.innerHTML += "<input type='radio' name='q" + i + "' value='" + quizQuestions[i].options[j] + "'> " + quizQuestions[i].options[j] + " ";
    }
  }
  }

  function submitQuiz() {
    score = 0;
    for(let i=0;i<quizQuestions.length;i++) {
      let opts = document.getElementsByName("q"+i);
      let selected = "";
      for(let o of opts) {
        if(o.checked) selected = o.value;
      }
      if(selected == quizQuestions[i].answer) {
        score += 10;
      }
    }
    showResult();
  }

  function showResult() {
    let percentage = (score/30)*100;
    let grade = "";
    if(percentage >= 90) grade = "A";
    else if(percentage >= 70) grade = "B";
    else if(percentage >= 50) grade = "C";
    else grade = "D";

    let now = new Date();

    document.getElementById("scoreOutput").innerText = "Score: "+score+"/30 ("+percentage+"%)";
    document.getElementById("gradeOutput").innerText = "Grade: "+grade;
    document.getElementById("timeOutput").innerText = "Time: "+now;

    user.score = score;
    user.percentage = percentage;
    user.grade = grade;
    user.timestamp = now;

    document.getElementById("jsonOutput").innerText = JSON.stringify(user);
    document.getElementById("resultSection").classList.remove("hidden");
  }
</script>

</body>
</html>
